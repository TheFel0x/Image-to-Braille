<html>
<head>
	<script src="main.js"></script>
	<script src="dithering.js"></script>
	<script>
		function darkTheme(bool) {
			text.style.background = ((bool) ? '#333' : '#ccc');
			text.style.color = ((bool) ? '#ccc' : '#333');
		}
	</script>
	<style>
		body {
			background: #333;
			color: #eee;
			font-family:sans-serif;
		}
		
		textarea {
			position: absolute;
			top:10px;
			left:10px;
			bottom:10px;
			width:70vw;
			height: 451px;
			padding:0px;
			margin:0px;
			resize: vertical;
			display: block;
		}
		
		div {
			position: absolute;
			top:10px;
			right:10px;
			bottom:10px;
			width:25vw;
			text-align:left;
		}
		
		div span {
			display: inline-block;
			float: right;
		}
	</style>
</head>
<body ondrop="event.preventDefault(); filechanged(event.dataTransfer.items[0].getAsFile());" ondragover="event.preventDefault()" onpaste="event.preventDefault(); filechanged(event.clipboardData.items[0].getAsFile());">
	<textarea id="text" readonly></textarea>
	<div id="options">
		<input id="file" type="file" onchange="force_filechanged(this.files[0])"><br><br>
		<span><input type="checkbox" onchange="inverted = this.checked; darkTheme(inverted); filechanged();"> Invert</span><br><br>
		<span><input type="checkbox" onchange="dithering = this.checked; filechanged();"> Dithering</span><br><br>
		<span><input id="ch" type="checkbox" onchange="change = this.checked; filechanged();"> autochange</span><br><br>
		<input type="number" min="2" value="50" step="2" onchange="max_width = this.value; filechanged();"><span>Width (chars)</span><br><br>
		
		<input id="red" type="number" min="0.01" max="10" value="1" step="0.01" onchange="r = this.value; filechanged();"><button onclick="r = 1; document.getElementById('red').value = 1; filechanged()">Reset</button><span>Red (0 - 10)</span><br><br>		
		<input id="green" type="number" min="0.01" max="10" value="1" step="0.01" onchange="g = this.value; filechanged();"><button onclick="g = 1; document.getElementById('green').value = 1; filechanged()">Reset</button><span>Green (0 - 10)</span><br><br>
		<input id="blue" type="number" min="0.01" max="10" value="1" step="0.01" onchange="b = this.value; filechanged();"><button onclick="b = 1; document.getElementById('blue').value = 1; filechanged()">Reset</button><span>Blue (0 - 10)</span><br><br>
		<button onclick="force_filechanged();">Manual Change</button><br><br>
		<button onclick="text.select(); document.execCommand('copy');">Copy to clipboard</button><br><br>
		Character Count: <span id="charcount">0</span>
		<br><br>
		<a href="https://github.com/505e06b2/Image-to-Braille" style="color: lightgreen;">Code by 505e06b2</a></br>
		<a href="https://github.com/TheFel0x/Image-to-Braille" style="color: lightgreen;">Changed a bit by TheFel0x</a>
		<!-- 
			TODO:
			- determine width from max char count
			- auto resize textarea
		-->
	</div>
</body>
</html>
